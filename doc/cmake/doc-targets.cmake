# Add custom command, target, and dependencies for documentation file
macro( CREATE_DOC_TARGET SOURCE_FILENAME OUTPUT_FILENAME )
  add_custom_command( OUTPUT ${PROJECT_BINARY_DIR}/pdf/${OUTPUT_FILENAME}.pdf
    COMMAND ${CMAKE_COMMAND} -DXELATEX=${XELATEX} -DINNAME=${SOURCE_FILENAME} -DOUTNAME=${OUTPUT_FILENAME} -DORIGINAL_CMAKE_SOURCE_DIR=${PROJECT_SOURCE_DIR} -DORIGINAL_CMAKE_BINARY_DIR=${PROJECT_BINARY_DIR} -DTEX_INTERACTION=${TEX_INTERACTION} -P ${PROJECT_SOURCE_DIR}/cmake/BuildDocumentation.cmake
    WORKING_DIRECTORY ${PROJECT_SOURCE_DIR}/${SOURCE_FILENAME}
    DEPENDS ${INCLUDED_TEX} ${INCLUDED_IMAGES}
    )

  add_custom_target( zPDF_${OUTPUT_FILENAME}
    DEPENDS ${PROJECT_BINARY_DIR}/pdf/${OUTPUT_FILENAME}.pdf
    )

  add_dependencies(docs zPDF_${OUTPUT_FILENAME})
endmacro()
