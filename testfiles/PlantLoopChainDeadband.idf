! PlantLoopChainDeadband.idf
!
! Basic file description:
! This input file is a plant-only simulation using the LoadProfile:Plant object; no zones are simulated.
! The main purpose is to demonstrate plant heat exchangers to connect multiple loops. There are five
! plant loops: 1) the "Use Heat Loop" contains the load profile for heating load, 2) the "Use Cool Loop" contains a load
! profile for coolign load, 3) the "Transfer Loop" contains 4 heat exchangers , 4) the "Source Cool Loop" contains district cooling,
! and 5) the "Source Heat Loop" contains district heating. The transfer loop is maintained within a "deadband" to meet both
! cooling and heating loads.
!
! Run:      2 design days
! Building: None.
! System:   None.
! Plant:    A chain of 5 plant loops that connect LoadProfile:Plant objects to DistrictCooling and DistrictHeating by heat exchangers

  Version,24.1;

  Building,
    Plant Load Profile Example,  !- Name
    0.0,                     !- North Axis {deg}
    Suburbs,                 !- Terrain
    0.04,                    !- Loads Convergence Tolerance Value {W}
    0.04,                    !- Temperature Convergence Tolerance Value {deltaC}
    FullInteriorAndExterior, !- Solar Distribution
    25,                      !- Maximum Number of Warmup Days
    6;                       !- Minimum Number of Warmup Days

  Timestep,6;

  GlobalGeometryRules,
    UpperLeftCorner,         !- Starting Vertex Position
    CounterClockWise,        !- Vertex Entry Direction
    Relative;                !- Coordinate System

  Site:Location,
    CHICAGO_IL_USA_WMO_725300,  !- Name
    42.00,                   !- Latitude {deg}
    -87.88,                  !- Longitude {deg}
    -6.00,                   !- Time Zone {hr}
    190.00;                  !- Elevation {m}

 ! CHICAGO_IL_USA Annual Cooling (DB=>MWB) 1%, MaxDB=31.5°C MWB=23°C

  SizingPeriod:DesignDay,
    CHICAGO Ann Clg 1% Condns DB=>MWB,  !- Name
    7,                       !- Month
    21,                      !- Day of Month
    SummerDesignDay,         !- Day Type
    31.5,                    !- Maximum Dry-Bulb Temperature {C}
    10.7,                    !- Daily Dry-Bulb Temperature Range {deltaC}
    ,                        !- Dry-Bulb Temperature Range Modifier Type
    ,                        !- Dry-Bulb Temperature Range Modifier Day Schedule Name
    Wetbulb,                 !- Humidity Condition Type
    23,                      !- Wetbulb or DewPoint at Maximum Dry-Bulb {C}
    ,                        !- Humidity Condition Day Schedule Name
    ,                        !- Humidity Ratio at Maximum Dry-Bulb {kgWater/kgDryAir}
    ,                        !- Enthalpy at Maximum Dry-Bulb {J/kg}
    ,                        !- Daily Wet-Bulb Temperature Range {deltaC}
    99063.,                  !- Barometric Pressure {Pa}
    5.3,                     !- Wind Speed {m/s}
    230,                     !- Wind Direction {deg}
    No,                      !- Rain Indicator
    No,                      !- Snow Indicator
    No,                      !- Daylight Saving Time Indicator
    ASHRAEClearSky,          !- Solar Model Indicator
    ,                        !- Beam Solar Day Schedule Name
    ,                        !- Diffuse Solar Day Schedule Name
    ,                        !- ASHRAE Clear Sky Optical Depth for Beam Irradiance (taub) {dimensionless}
    ,                        !- ASHRAE Clear Sky Optical Depth for Diffuse Irradiance (taud) {dimensionless}
    1.00;                    !- Sky Clearness

 ! CHICAGO_IL_USA Annual Heating 99%, MaxDB=-17.3°C

  SizingPeriod:DesignDay,
    CHICAGO Ann Htg 99% Condns DB,  !- Name
    1,                       !- Month
    21,                      !- Day of Month
    WinterDesignDay,         !- Day Type
    -17.3,                   !- Maximum Dry-Bulb Temperature {C}
    0.0,                     !- Daily Dry-Bulb Temperature Range {deltaC}
    ,                        !- Dry-Bulb Temperature Range Modifier Type
    ,                        !- Dry-Bulb Temperature Range Modifier Day Schedule Name
    Wetbulb,                 !- Humidity Condition Type
    -17.3,                   !- Wetbulb or DewPoint at Maximum Dry-Bulb {C}
    ,                        !- Humidity Condition Day Schedule Name
    ,                        !- Humidity Ratio at Maximum Dry-Bulb {kgWater/kgDryAir}
    ,                        !- Enthalpy at Maximum Dry-Bulb {J/kg}
    ,                        !- Daily Wet-Bulb Temperature Range {deltaC}
    99063.,                  !- Barometric Pressure {Pa}
    4.9,                     !- Wind Speed {m/s}
    270,                     !- Wind Direction {deg}
    No,                      !- Rain Indicator
    No,                      !- Snow Indicator
    No,                      !- Daylight Saving Time Indicator
    ASHRAEClearSky,          !- Solar Model Indicator
    ,                        !- Beam Solar Day Schedule Name
    ,                        !- Diffuse Solar Day Schedule Name
    ,                        !- ASHRAE Clear Sky Optical Depth for Beam Irradiance (taub) {dimensionless}
    ,                        !- ASHRAE Clear Sky Optical Depth for Diffuse Irradiance (taud) {dimensionless}
    0.00;                    !- Sky Clearness

  RunPeriod,
    Annual,                  !- Name
    1,                       !- Begin Month
    1,                       !- Begin Day of Month
    ,                        !- Begin Year
    12,                      !- End Month
    31,                      !- End Day of Month
    ,                        !- End Year
    Tuesday,                 !- Day of Week for Start Day
    Yes,                     !- Use Weather File Holidays and Special Days
    Yes,                     !- Use Weather File Daylight Saving Period
    No,                      !- Apply Weekend Holiday Rule
    Yes,                     !- Use Weather File Rain Indicators
    Yes;                     !- Use Weather File Snow Indicators

  SimulationControl,
    NO,                      !- Do Zone Sizing Calculation
    NO,                      !- Do System Sizing Calculation
    NO,                      !- Do Plant Sizing Calculation
    YES,                     !- Run Simulation for Sizing Periods
    NO,                      !- Run Simulation for Weather File Run Periods
    No,                      !- Do HVAC Sizing Simulation for Sizing Periods
    1;                       !- Maximum Number of HVAC Sizing Simulation Passes

!___________________________________________________________________________________

  PlantLoop,
    Use Heat Loop,           !- Name
    WATER,                   !- Fluid Type
    ,                        !- User Defined Fluid Type
    Use Heat Loop Operation, !- Plant Equipment Operation Scheme Name
    Use Heat Supply Outlet Node,  !- Loop Temperature Setpoint Node Name
    100,                     !- Maximum Loop Temperature {C}
    3,                       !- Minimum Loop Temperature {C}
    0.003,                   !- Maximum Loop Flow Rate {m3/s}
    0,                       !- Minimum Loop Flow Rate {m3/s}
    1.0,                     !- Plant Loop Volume {m3}
    Use Heat Supply Inlet Node,  !- Plant Side Inlet Node Name
    Use Heat Supply Outlet Node,  !- Plant Side Outlet Node Name
    Use Heat Supply Branches,!- Plant Side Branch List Name
    Use Heat Supply Connectors,  !- Plant Side Connector List Name
    Use Heat Demand Inlet Node,  !- Demand Side Inlet Node Name
    Use Heat Demand Outlet Node,  !- Demand Side Outlet Node Name
    Use Heat Demand Branches,!- Demand Side Branch List Name
    Use Heat Demand Connectors,  !- Demand Side Connector List Name
    OPTIMAL;                 !- Load Distribution Scheme

  SetpointManager:Scheduled,
    Use Heat Loop Setpoint Manager,  !- Name
    Temperature,             !- Control Variable
    Use Heat Loop Temp Sch,  !- Schedule Name
    Use Heat Loop Setpoint Node List;  !- Setpoint Node or NodeList Name

  NodeList,
    Use Heat Loop Setpoint Node List,  !- Name
    Use Heat Supply Outlet Node;  !- Node 1 Name

  PlantEquipmentOperationSchemes,
    Use Heat Loop Operation, !- Name
    PlantEquipmentOperation:Uncontrolled,  !- Control Scheme 1 Object Type
    USE Heat operation,      !- Control Scheme 1 Name
    AlwaysOnSchedule;        !- Control Scheme 1 Schedule Name

  PlantEquipmentOperation:Uncontrolled,
    USE Heat operation,      !- Name
    TRANSFER to USE Heat HX equip;  !- Equipment List Name

  PlantEquipmentList,
    TRANSFER to USE Heat HX equip,  !- Name
    HeatExchanger:FluidToFluid,  !- Equipment 1 Object Type
    TRANSFER to USE Heat HX; !- Equipment 1 Name

  BranchList,
    USE Heat Supply Branches,!- Name
    USE Heat Supply Inlet Branch,  !- Branch 1 Name
    USE Heat Heating Branch, !- Branch 2 Name
    USE Heat Supply Outlet Branch;  !- Branch 3 Name

  ConnectorList,
    USE Heat Supply Connectors,  !- Name
    Connector:Splitter,      !- Connector 1 Object Type
    USE Heat Supply Splitter,!- Connector 1 Name
    Connector:Mixer,         !- Connector 2 Object Type
    USE Heat Supply Mixer;   !- Connector 2 Name

  Connector:Splitter,
    USE Heat Supply Splitter,!- Name
    USE Heat Supply Inlet Branch,  !- Inlet Branch Name
    USE Heat Heating Branch; !- Outlet Branch 1 Name

  Connector:Mixer,
    USE Heat Supply Mixer,   !- Name
    USE Heat Supply Outlet Branch,  !- Outlet Branch Name
    USE Heat Heating Branch; !- Inlet Branch 1 Name

  Branch,
    USE Heat Supply Inlet Branch,  !- Name
    ,                        !- Pressure Drop Curve Name
    Pump:VariableSpeed,      !- Component 1 Object Type
    USE Heat Pump,           !- Component 1 Name
    USE Heat Supply Inlet Node,  !- Component 1 Inlet Node Name
    USE Heat Supply Pump-Heating Node;  !- Component 1 Outlet Node Name

  Pump:VariableSpeed,
    USE Heat Pump,           !- Name
    USE Heat Supply Inlet Node,  !- Inlet Node Name
    USE Heat Supply Pump-Heating Node,  !- Outlet Node Name
    0.005,                   !- Design Maximum Flow Rate {m3/s}
    1,                       !- Design Pump Head {Pa}
    0.01,                    !- Design Power Consumption {W}
    0.87,                    !- Motor Efficiency
    0.0,                     !- Fraction of Motor Inefficiencies to Fluid Stream
    0,                       !- Coefficient 1 of the Part Load Performance Curve
    1,                       !- Coefficient 2 of the Part Load Performance Curve
    0,                       !- Coefficient 3 of the Part Load Performance Curve
    0,                       !- Coefficient 4 of the Part Load Performance Curve
    0,                       !- Design Minimum Flow Rate {m3/s}
    INTERMITTENT;            !- Pump Control Type

  Branch,
    USE Heat Heating Branch, !- Name
    ,                        !- Pressure Drop Curve Name
    HeatExchanger:FluidToFluid,  !- Component 1 Object Type
    TRANSFER to USE Heat HX, !- Component 1 Name
    USE Heat Supply Heating Inlet Node,  !- Component 1 Inlet Node Name
    USE Heat Supply Heating Outlet Node;  !- Component 1 Outlet Node Name

  HeatExchanger:FluidToFluid,
    TRANSFER to USE Heat HX, !- Name
    AlwaysOnSchedule,        !- Availability Schedule Name
    TRANSFER Heat Demand HX Inlet Node,  !- Loop Demand Side Inlet Node Name
    TRANSFER Heat Demand HX Outlet Node,  !- Loop Demand Side Outlet Node Name
    0.003,                   !- Loop Demand Side Design Flow Rate {m3/s}
    USE Heat Supply Heating Inlet Node,  !- Loop Supply Side Inlet Node Name
    USE Heat Supply Heating Outlet Node,  !- Loop Supply Side Outlet Node Name
    0.003,                   !- Loop Supply Side Design Flow Rate {m3/s}
    CrossFlowSupplyUnMixedDemandMixed,  !- Heat Exchange Model Type
    15000,                   !- Heat Exchanger U-Factor Times Area Value {W/K}
    HeatingSetpointModulated,!- Control Type
    Use heat Supply Outlet Node,  !- Heat Exchanger Setpoint Node Name
    0.2,                     !- Minimum Temperature Difference to Activate Heat Exchanger {deltaC}
    LoopToLoop;              !- Heat Transfer Metering End Use Type

  Branch,
    USE Heat Supply Outlet Branch,  !- Name
    ,                        !- Pressure Drop Curve Name
    Pipe:Adiabatic,          !- Component 1 Object Type
    USE Heat Supply Outlet Pipe,  !- Component 1 Name
    USE Heat Supply Heating-Pipe Node,  !- Component 1 Inlet Node Name
    USE Heat Supply Outlet Node;  !- Component 1 Outlet Node Name

  Pipe:Adiabatic,
    USE Heat Supply Outlet Pipe,  !- Name
    USE Heat Supply Heating-Pipe Node,  !- Inlet Node Name
    USE Heat Supply Outlet Node;  !- Outlet Node Name

  BranchList,
    USE Heat Demand Branches,!- Name
    USE Heat Demand Inlet Branch,  !- Branch 1 Name
    USE Heat Load Profile Branch 1,  !- Branch 2 Name
    USE Heat Demand Outlet Branch;  !- Branch 3 Name

  ConnectorList,
    USE Heat Demand Connectors,  !- Name
    Connector:Splitter,      !- Connector 1 Object Type
    USE Heat Demand Splitter,!- Connector 1 Name
    Connector:Mixer,         !- Connector 2 Object Type
    USE Heat Demand Mixer;   !- Connector 2 Name

  Connector:Splitter,
    USE Heat Demand Splitter,!- Name
    USE Heat Demand Inlet Branch,  !- Inlet Branch Name
    USE Heat Load Profile Branch 1;  !- Outlet Branch 1 Name

  Connector:Mixer,
    USE Heat Demand Mixer,   !- Name
    USE Heat Demand Outlet Branch,  !- Outlet Branch Name
    USE Heat Load Profile Branch 1;  !- Inlet Branch 1 Name

  Branch,
    USE Heat Demand Inlet Branch,  !- Name
    ,                        !- Pressure Drop Curve Name
    Pipe:Adiabatic,          !- Component 1 Object Type
    USE Heat Demand Inlet Pipe,  !- Component 1 Name
    USE Heat Demand Inlet Node,  !- Component 1 Inlet Node Name
    USE Heat Demand Pipe-Load Profile Node;  !- Component 1 Outlet Node Name

  Pipe:Adiabatic,
    USE Heat Demand Inlet Pipe,  !- Name
    USE Heat Demand Inlet Node,  !- Inlet Node Name
    USE Heat Demand Pipe-Load Profile Node;  !- Outlet Node Name

  Branch,
    USE Heat Load Profile Branch 1,  !- Name
    ,                        !- Pressure Drop Curve Name
    LoadProfile:Plant,       !- Component 1 Object Type
    Heat Load Profile 1,     !- Component 1 Name
    Heat Demand Load Profile 1 Inlet Node,  !- Component 1 Inlet Node Name
    Heat Demand Load Profile 1 Outlet Node;  !- Component 1 Outlet Node Name

  LoadProfile:Plant,
    Heat Load Profile 1,     !- Name
    Heat Demand Load Profile 1 Inlet Node,  !- Inlet Node Name
    Heat Demand Load Profile 1 Outlet Node,  !- Outlet Node Name
    Heat Load Profile 1 Load Schedule,  !- Load Schedule Name
    0.002,                   !- Peak Flow Rate {m3/s}
    Heat Load Profile 1 Flow Frac Schedule,  !- Flow Rate Fraction Schedule Name
    Water;                   !- Plant Loop Fluid Type

  Branch,
    USE Heat Demand Outlet Branch,  !- Name
    ,                        !- Pressure Drop Curve Name
    Pipe:Adiabatic,          !- Component 1 Object Type
    USE Heat Demand Outlet Pipe,  !- Component 1 Name
    USE Heat Demand Load Profile-Pipe Node,  !- Component 1 Inlet Node Name
    USE Heat Demand Outlet Node;  !- Component 1 Outlet Node Name

  Pipe:Adiabatic,
    USE Heat Demand Outlet Pipe,  !- Name
    USE Heat Demand Load Profile-Pipe Node,  !- Inlet Node Name
    USE Heat Demand Outlet Node;  !- Outlet Node Name

! END USE HEAT Loop
!________________________________________________________________________

  PlantLoop,
    Use Cool Loop,           !- Name
    WATER,                   !- Fluid Type
    ,                        !- User Defined Fluid Type
    Use Cool Loop Operation, !- Plant Equipment Operation Scheme Name
    Use Cool Supply Outlet Node,  !- Loop Temperature Setpoint Node Name
    100,                     !- Maximum Loop Temperature {C}
    3,                       !- Minimum Loop Temperature {C}
    0.003,                   !- Maximum Loop Flow Rate {m3/s}
    0,                       !- Minimum Loop Flow Rate {m3/s}
    1.0,                     !- Plant Loop Volume {m3}
    Use Cool Supply Inlet Node,  !- Plant Side Inlet Node Name
    Use Cool Supply Outlet Node,  !- Plant Side Outlet Node Name
    Use Cool Supply Branches,!- Plant Side Branch List Name
    Use Cool Supply Connectors,  !- Plant Side Connector List Name
    Use Cool Demand Inlet Node,  !- Demand Side Inlet Node Name
    Use Cool Demand Outlet Node,  !- Demand Side Outlet Node Name
    Use Cool Demand Branches,!- Demand Side Branch List Name
    Use Cool Demand Connectors,  !- Demand Side Connector List Name
    OPTIMAL;                 !- Load Distribution Scheme

  SetpointManager:Scheduled,
    Use Cool Loop Setpoint Manager,  !- Name
    Temperature,             !- Control Variable
    Use Cool Loop Temp Sch,  !- Schedule Name
    Use Cool Loop Setpoint Node List;  !- Setpoint Node or NodeList Name

  NodeList,
    Use Cool Loop Setpoint Node List,  !- Name
    Use Cool Supply Outlet Node;  !- Node 1 Name

  PlantEquipmentOperationSchemes,
    Use Cool Loop Operation, !- Name
    PlantEquipmentOperation:Uncontrolled,  !- Control Scheme 1 Object Type
    USE Cool operation,      !- Control Scheme 1 Name
    AlwaysOnSchedule;        !- Control Scheme 1 Schedule Name

  PlantEquipmentOperation:Uncontrolled,
    USE Cool operation,      !- Name
    TRANSFER to USE Cool HX equip;  !- Equipment List Name

  PlantEquipmentList,
    TRANSFER to USE Cool HX equip,  !- Name
    HeatExchanger:FluidToFluid,  !- Equipment 1 Object Type
    TRANSFER to USE Cool HX; !- Equipment 1 Name

  BranchList,
    USE Cool Supply Branches,!- Name
    USE Cool Supply Inlet Branch,  !- Branch 1 Name
    USE Cooling Branch,      !- Branch 2 Name
    USE Cool Supply Outlet Branch;  !- Branch 3 Name

  ConnectorList,
    USE Cool Supply Connectors,  !- Name
    Connector:Splitter,      !- Connector 1 Object Type
    USE Cool Supply Splitter,!- Connector 1 Name
    Connector:Mixer,         !- Connector 2 Object Type
    USE Cool Supply Mixer;   !- Connector 2 Name

  Connector:Splitter,
    USE Cool Supply Splitter,!- Name
    USE Cool Supply Inlet Branch,  !- Inlet Branch Name
    USE Cooling Branch;      !- Outlet Branch 1 Name

  Connector:Mixer,
    USE Cool Supply Mixer,   !- Name
    USE Cool Supply Outlet Branch,  !- Outlet Branch Name
    USE Cooling Branch;      !- Inlet Branch 1 Name

  Branch,
    USE Cool Supply Inlet Branch,  !- Name
    ,                        !- Pressure Drop Curve Name
    Pump:VariableSpeed,      !- Component 1 Object Type
    USE Cool Pump,           !- Component 1 Name
    USE Cool Supply Inlet Node,  !- Component 1 Inlet Node Name
    USE Cool Supply Pump-Heating Node;  !- Component 1 Outlet Node Name

  Pump:VariableSpeed,
    USE Cool Pump,           !- Name
    USE Cool Supply Inlet Node,  !- Inlet Node Name
    USE Cool Supply Pump-Heating Node,  !- Outlet Node Name
    0.005,                   !- Design Maximum Flow Rate {m3/s}
    1.0,                     !- Design Pump Head {Pa}
    0.01,                    !- Design Power Consumption {W}
    0.87,                    !- Motor Efficiency
    0.0,                     !- Fraction of Motor Inefficiencies to Fluid Stream
    0,                       !- Coefficient 1 of the Part Load Performance Curve
    1,                       !- Coefficient 2 of the Part Load Performance Curve
    0,                       !- Coefficient 3 of the Part Load Performance Curve
    0,                       !- Coefficient 4 of the Part Load Performance Curve
    0,                       !- Design Minimum Flow Rate {m3/s}
    INTERMITTENT;            !- Pump Control Type

  Branch,
    USE Cooling Branch,      !- Name
    ,                        !- Pressure Drop Curve Name
    HeatExchanger:FluidToFluid,  !- Component 1 Object Type
    TRANSFER to USE Cool HX, !- Component 1 Name
    USE Cool Supply Cooling Inlet Node,  !- Component 1 Inlet Node Name
    USE Cool Supply Cooling Outlet Node;  !- Component 1 Outlet Node Name

  HeatExchanger:FluidToFluid,
    TRANSFER to USE Cool HX, !- Name
    AlwaysOnSchedule,        !- Availability Schedule Name
    TRANSFER Demand HX Cool Inlet Node,  !- Loop Demand Side Inlet Node Name
    TRANSFER Demand HX Cool Outlet Node,  !- Loop Demand Side Outlet Node Name
    0.003,                   !- Loop Demand Side Design Flow Rate {m3/s}
    USE Cool Supply Cooling Inlet Node,  !- Loop Supply Side Inlet Node Name
    USE Cool Supply Cooling Outlet Node,  !- Loop Supply Side Outlet Node Name
    0.003,                   !- Loop Supply Side Design Flow Rate {m3/s}
    CrossFlowBothUnMixed,    !- Heat Exchange Model Type
    15000,                   !- Heat Exchanger U-Factor Times Area Value {W/K}
    CoolingSetpointModulated,!- Control Type
    Use Cool Supply Outlet Node,  !- Heat Exchanger Setpoint Node Name
    0.2,                     !- Minimum Temperature Difference to Activate Heat Exchanger {deltaC}
    LoopToLoop;              !- Heat Transfer Metering End Use Type

  Branch,
    USE Cool Supply Outlet Branch,  !- Name
    ,                        !- Pressure Drop Curve Name
    Pipe:Adiabatic,          !- Component 1 Object Type
    USE Cool Supply Outlet Pipe,  !- Component 1 Name
    USE Cool Supply Heating-Pipe Node,  !- Component 1 Inlet Node Name
    USE Cool Supply Outlet Node;  !- Component 1 Outlet Node Name

  Pipe:Adiabatic,
    USE Cool Supply Outlet Pipe,  !- Name
    USE Cool Supply Heating-Pipe Node,  !- Inlet Node Name
    USE Cool Supply Outlet Node;  !- Outlet Node Name

  BranchList,
    USE Cool Demand Branches,!- Name
    USE Cool Demand Inlet Branch,  !- Branch 1 Name
    USE Cool Load Profile Branch 1,  !- Branch 2 Name
    USE Cool Demand Outlet Branch;  !- Branch 3 Name

  ConnectorList,
    USE Cool Demand Connectors,  !- Name
    Connector:Splitter,      !- Connector 1 Object Type
    USE Cool Demand Splitter,!- Connector 1 Name
    Connector:Mixer,         !- Connector 2 Object Type
    USE Cool Demand Mixer;   !- Connector 2 Name

  Connector:Splitter,
    USE Cool Demand Splitter,!- Name
    USE Cool Demand Inlet Branch,  !- Inlet Branch Name
    USE Cool Load Profile Branch 1;  !- Outlet Branch 1 Name

  Connector:Mixer,
    USE Cool Demand Mixer,   !- Name
    USE Cool Demand Outlet Branch,  !- Outlet Branch Name
    USE Cool Load Profile Branch 1;  !- Inlet Branch 1 Name

  Branch,
    USE Cool Demand Inlet Branch,  !- Name
    ,                        !- Pressure Drop Curve Name
    Pipe:Adiabatic,          !- Component 1 Object Type
    USE Cool Demand Inlet Pipe,  !- Component 1 Name
    USE Cool Demand Inlet Node,  !- Component 1 Inlet Node Name
    USE Cool Demand Pipe-Load Profile Node;  !- Component 1 Outlet Node Name

  Pipe:Adiabatic,
    USE Cool Demand Inlet Pipe,  !- Name
    USE Cool Demand Inlet Node,  !- Inlet Node Name
    USE Cool Demand Pipe-Load Profile Node;  !- Outlet Node Name

  Branch,
    USE Cool Load Profile Branch 1,  !- Name
    ,                        !- Pressure Drop Curve Name
    LoadProfile:Plant,       !- Component 1 Object Type
    Cool Load Profile 1,     !- Component 1 Name
    Demand Cool Load Profile 1 Inlet Node,  !- Component 1 Inlet Node Name
    Demand Cool Load Profile 1 Outlet Node;  !- Component 1 Outlet Node Name

  LoadProfile:Plant,
    Cool Load Profile 1,     !- Name
    Demand Cool Load Profile 1 Inlet Node,  !- Inlet Node Name
    Demand Cool Load Profile 1 Outlet Node,  !- Outlet Node Name
    Cool Load Profile 1 Load Schedule,  !- Load Schedule Name
    0.002,                   !- Peak Flow Rate {m3/s}
    Cool Load Profile 1 Flow Frac Schedule;  !- Flow Rate Fraction Schedule Name

  Branch,
    USE Cool Demand Outlet Branch,  !- Name
    ,                        !- Pressure Drop Curve Name
    Pipe:Adiabatic,          !- Component 1 Object Type
    USE Cool Demand Outlet Pipe,  !- Component 1 Name
    USE Cool Demand Load Profile-Pipe Node,  !- Component 1 Inlet Node Name
    USE Cool Demand Outlet Node;  !- Component 1 Outlet Node Name

  Pipe:Adiabatic,
    USE Cool Demand Outlet Pipe,  !- Name
    USE Cool Demand Load Profile-Pipe Node,  !- Inlet Node Name
    USE Cool Demand Outlet Node;  !- Outlet Node Name

! END USE Cool  Loop
!___________________________________________________________________________________
!
!___________________________________________________________________________________
!
! BEGIN TRANSFER Loop

  PlantLoop,
    TRANSFER Loop,           !- Name
    WATER,                   !- Fluid Type
    ,                        !- User Defined Fluid Type
    TRANSFER Loop Operation, !- Plant Equipment Operation Scheme Name
    TRANSFER Supply Outlet Node,  !- Loop Temperature Setpoint Node Name
    100,                     !- Maximum Loop Temperature {C}
    3,                       !- Minimum Loop Temperature {C}
    0.003,                   !- Maximum Loop Flow Rate {m3/s}
    0,                       !- Minimum Loop Flow Rate {m3/s}
    1.0,                     !- Plant Loop Volume {m3}
    TRANSFER Supply Inlet Node,  !- Plant Side Inlet Node Name
    TRANSFER Supply Outlet Node,  !- Plant Side Outlet Node Name
    TRANSFER Supply Branches,!- Plant Side Branch List Name
    TRANSFER Supply Connectors,  !- Plant Side Connector List Name
    TRANSFER Demand Inlet Node,  !- Demand Side Inlet Node Name
    TRANSFER Demand Outlet Node,  !- Demand Side Outlet Node Name
    TRANSFER Demand Branches,!- Demand Side Branch List Name
    TRANSFER Demand Connectors,  !- Demand Side Connector List Name
    OPTIMAL,                 !- Load Distribution Scheme
    ,                        !- Availability Manager List Name
    DualSetpointDeadband;    !- Plant Loop Demand Calculation Scheme

  SetpointManager:Scheduled:dualSetpoint,
    TRANSFER Loop Dual Setpoint Manager,  !- Name
    Temperature,             !- Control Variable
    TRANSFER Dual Loop Hi Temp Sch,  !- High Setpoint Schedule Name
    TRANSFER Dual Loop Lo Temp Sch,  !- Low Setpoint Schedule Name
    TRANSFER Loop Setpoint Node List;  !- Setpoint Node or NodeList Name

  NodeList,
    TRANSFER Loop Setpoint Node List,  !- Name
    TRANSFER Supply Outlet Node;  !- Node 1 Name

  PlantEquipmentOperationSchemes,
    TRANSFER Loop Operation, !- Name
    PlantEquipmentOperation:Uncontrolled,  !- Control Scheme 1 Object Type
    TRANSFER HX,             !- Control Scheme 1 Name
    AlwaysOnSchedule;        !- Control Scheme 1 Schedule Name

  PlantEquipmentOperation:Uncontrolled,
    TRANSFER HX,             !- Name
    TRANSFER Plant;          !- Equipment List Name

  PlantEquipmentList,
    TRANSFER Plant,          !- Name
    HeatExchanger:FluidToFluid,  !- Equipment 1 Object Type
    SOURCE to TRANSFER Heat HX,  !- Equipment 1 Name
    HeatExchanger:FluidToFluid,  !- Equipment 2 Object Type
    SOURCE to TRANSFER Cooling HX;  !- Equipment 2 Name

  BranchList,
    TRANSFER Supply Branches,!- Name
    TRANSFER Supply Inlet Branch,  !- Branch 1 Name
    TRANSFER Heating Branch, !- Branch 2 Name
    TRANSFER Cooling Branch, !- Branch 3 Name
    TRANSFER Supply Outlet Branch;  !- Branch 4 Name

  ConnectorList,
    TRANSFER Supply Connectors,  !- Name
    Connector:Splitter,      !- Connector 1 Object Type
    TRANSFER Supply Splitter,!- Connector 1 Name
    Connector:Mixer,         !- Connector 2 Object Type
    TRANSFER Supply Mixer;   !- Connector 2 Name

  Connector:Splitter,
    TRANSFER Supply Splitter,!- Name
    TRANSFER Supply Inlet Branch,  !- Inlet Branch Name
    TRANSFER Heating Branch, !- Outlet Branch 1 Name
    TRANSFER Cooling Branch; !- Outlet Branch 2 Name

  Connector:Mixer,
    TRANSFER Supply Mixer,   !- Name
    TRANSFER Supply Outlet Branch,  !- Outlet Branch Name
    TRANSFER Heating Branch, !- Inlet Branch 1 Name
    TRANSFER Cooling Branch; !- Inlet Branch 2 Name

  Branch,
    TRANSFER Supply Inlet Branch,  !- Name
    ,                        !- Pressure Drop Curve Name
    Pump:VariableSpeed,      !- Component 1 Object Type
    TRANSFER Pump,           !- Component 1 Name
    TRANSFER Supply Inlet Node,  !- Component 1 Inlet Node Name
    TRANSFER Supply Pump-Heating Node;  !- Component 1 Outlet Node Name

  Pump:VariableSpeed,
    TRANSFER Pump,           !- Name
    TRANSFER Supply Inlet Node,  !- Inlet Node Name
    TRANSFER Supply Pump-Heating Node,  !- Outlet Node Name
    0.005,                   !- Design Maximum Flow Rate {m3/s}
    1,                       !- Design Pump Head {Pa}
    0.01,                    !- Design Power Consumption {W}
    0.87,                    !- Motor Efficiency
    0.0,                     !- Fraction of Motor Inefficiencies to Fluid Stream
    0,                       !- Coefficient 1 of the Part Load Performance Curve
    1,                       !- Coefficient 2 of the Part Load Performance Curve
    0,                       !- Coefficient 3 of the Part Load Performance Curve
    0,                       !- Coefficient 4 of the Part Load Performance Curve
    0,                       !- Design Minimum Flow Rate {m3/s}
    INTERMITTENT;            !- Pump Control Type

  Branch,
    TRANSFER Heating Branch, !- Name
    ,                        !- Pressure Drop Curve Name
    HeatExchanger:FluidToFluid,  !- Component 1 Object Type
    SOURCE to TRANSFER heat HX,  !- Component 1 Name
    TRANSFER Supply Heating Inlet Node,  !- Component 1 Inlet Node Name
    TRANSFER Supply Heating Outlet Node;  !- Component 1 Outlet Node Name

  HeatExchanger:FluidToFluid,
    SOURCE to TRANSFER HEAT HX,  !- Name
    AlwaysOnSchedule,        !- Availability Schedule Name
    SOURCE Heat Demand HX Inlet Node,  !- Loop Demand Side Inlet Node Name
    SOURCE Heat Demand HX Outlet Node,  !- Loop Demand Side Outlet Node Name
    0.003,                   !- Loop Demand Side Design Flow Rate {m3/s}
    TRANSFER Supply Heating Inlet Node,  !- Loop Supply Side Inlet Node Name
    TRANSFER Supply Heating Outlet Node,  !- Loop Supply Side Outlet Node Name
    0.003,                   !- Loop Supply Side Design Flow Rate {m3/s}
    ParallelFlow,            !- Heat Exchange Model Type
    15000,                   !- Heat Exchanger U-Factor Times Area Value {W/K}
    HeatingSetpointModulated,!- Control Type
    TRANSFER Supply Heating Outlet Node,  !- Heat Exchanger Setpoint Node Name
    0.2,                     !- Minimum Temperature Difference to Activate Heat Exchanger {deltaC}
    LoopToLoop;              !- Heat Transfer Metering End Use Type

  SetpointManager:Scheduled,
    Transfer HX Heat Setpoint Manager,  !- Name
    Temperature,             !- Control Variable
    TRANSFER Dual Loop Lo Temp Sch,  !- Schedule Name
    TRANSFER Supply Heating Outlet Node;  !- Setpoint Node or NodeList Name

  Branch,
    TRANSFER Cooling Branch, !- Name
    ,                        !- Pressure Drop Curve Name
    HeatExchanger:FluidToFluid,  !- Component 1 Object Type
    SOURCE to TRANSFER Cooling HX,  !- Component 1 Name
    TRANSFER Supply Cooling Inlet Node,  !- Component 1 Inlet Node Name
    TRANSFER Supply Cooling Outlet Node;  !- Component 1 Outlet Node Name

  HeatExchanger:FluidToFluid,
    SOURCE to TRANSFER Cooling HX,  !- Name
    AlwaysOnSchedule,        !- Availability Schedule Name
    SOURCE Cool Demand HX Inlet Node,  !- Loop Demand Side Inlet Node Name
    SOURCE Cool Demand HX Outlet Node,  !- Loop Demand Side Outlet Node Name
    0.003,                   !- Loop Demand Side Design Flow Rate {m3/s}
    TRANSFER Supply Cooling Inlet Node,  !- Loop Supply Side Inlet Node Name
    TRANSFER Supply Cooling Outlet Node,  !- Loop Supply Side Outlet Node Name
    0.003,                   !- Loop Supply Side Design Flow Rate {m3/s}
    ParallelFlow,            !- Heat Exchange Model Type
    15000,                   !- Heat Exchanger U-Factor Times Area Value {W/K}
    CoolingSetpointModulated,!- Control Type
    TRANSFER Supply Cooling Outlet Node,  !- Heat Exchanger Setpoint Node Name
    0.2,                     !- Minimum Temperature Difference to Activate Heat Exchanger {deltaC}
    LoopToLoop;              !- Heat Transfer Metering End Use Type

  SetpointManager:Scheduled,
    Transfer HX Cool Setpoint Manager,  !- Name
    Temperature,             !- Control Variable
    TRANSFER Dual Loop Hi Temp Sch,  !- Schedule Name
    TRANSFER Supply Cooling Outlet Node;  !- Setpoint Node or NodeList Name

  Branch,
    TRANSFER Supply Outlet Branch,  !- Name
    ,                        !- Pressure Drop Curve Name
    Pipe:Adiabatic,          !- Component 1 Object Type
    TRANSFER Supply Outlet Pipe,  !- Component 1 Name
    TRANSFER Supply Heating-Pipe Node,  !- Component 1 Inlet Node Name
    TRANSFER Supply Outlet Node;  !- Component 1 Outlet Node Name

  Pipe:Adiabatic,
    TRANSFER Supply Outlet Pipe,  !- Name
    TRANSFER Supply Heating-Pipe Node,  !- Inlet Node Name
    TRANSFER Supply Outlet Node;  !- Outlet Node Name

  BranchList,
    TRANSFER Demand Branches,!- Name
    TRANSFER Demand Inlet Branch,  !- Branch 1 Name
    TRANSFER Demand HX Branch 1,  !- Branch 2 Name
    TRANSFER Demand HX Branch 2,  !- Branch 3 Name
    TRANSFER Demand Outlet Branch;  !- Branch 4 Name

  ConnectorList,
    TRANSFER Demand Connectors,  !- Name
    Connector:Splitter,      !- Connector 1 Object Type
    TRANSFER Demand Splitter,!- Connector 1 Name
    Connector:Mixer,         !- Connector 2 Object Type
    TRANSFER Demand Mixer;   !- Connector 2 Name

  Connector:Splitter,
    TRANSFER Demand Splitter,!- Name
    TRANSFER Demand Inlet Branch,  !- Inlet Branch Name
    TRANSFER Demand HX Branch 1,  !- Outlet Branch 1 Name
    TRANSFER Demand HX Branch 2;  !- Outlet Branch 2 Name

  Connector:Mixer,
    TRANSFER Demand Mixer,   !- Name
    TRANSFER Demand Outlet Branch,  !- Outlet Branch Name
    TRANSFER Demand HX Branch 1,  !- Inlet Branch 1 Name
    TRANSFER Demand HX Branch 2;  !- Inlet Branch 2 Name

  Branch,
    TRANSFER Demand Inlet Branch,  !- Name
    ,                        !- Pressure Drop Curve Name
    Pipe:Adiabatic,          !- Component 1 Object Type
    TRANSFER Demand Inlet Pipe,  !- Component 1 Name
    TRANSFER Demand Inlet Node,  !- Component 1 Inlet Node Name
    TRANSFER Demand Pipe-Load Profile Node;  !- Component 1 Outlet Node Name

  Pipe:Adiabatic,
    TRANSFER Demand Inlet Pipe,  !- Name
    TRANSFER Demand Inlet Node,  !- Inlet Node Name
    TRANSFER Demand Pipe-Load Profile Node;  !- Outlet Node Name

  Branch,
    TRANSFER Demand HX Branch 1,  !- Name
    ,                        !- Pressure Drop Curve Name
    HeatExchanger:FluidToFluid,  !- Component 1 Object Type
    TRANSFER to USE Heat HX, !- Component 1 Name
    TRANSFER heat Demand HX Inlet Node,  !- Component 1 Inlet Node Name
    TRANSFER heat Demand HX Outlet Node;  !- Component 1 Outlet Node Name

  Branch,
    TRANSFER Demand HX Branch 2,  !- Name
    ,                        !- Pressure Drop Curve Name
    HeatExchanger:FluidToFluid,  !- Component 1 Object Type
    TRANSFER to USE cool HX, !- Component 1 Name
    TRANSFER Demand HX Cool Inlet Node,  !- Component 1 Inlet Node Name
    TRANSFER Demand HX cool Outlet Node;  !- Component 1 Outlet Node Name

  Branch,
    TRANSFER Demand Outlet Branch,  !- Name
    ,                        !- Pressure Drop Curve Name
    Pipe:Adiabatic,          !- Component 1 Object Type
    TRANSFER Demand Outlet Pipe,  !- Component 1 Name
    TRANSFER Demand Load Profile-Pipe Node,  !- Component 1 Inlet Node Name
    TRANSFER Demand Outlet Node;  !- Component 1 Outlet Node Name

  Pipe:Adiabatic,
    TRANSFER Demand Outlet Pipe,  !- Name
    TRANSFER Demand Load Profile-Pipe Node,  !- Inlet Node Name
    TRANSFER Demand Outlet Node;  !- Outlet Node Name

! END Transfer loop
!_________________________________________________________________________________
!
! BEGIN Source loop

  PlantLoop,
    SOURCE Cool Loop,        !- Name
    WATER,                   !- Fluid Type
    ,                        !- User Defined Fluid Type
    SOURCE Cool Loop Operation,  !- Plant Equipment Operation Scheme Name
    SOURCE Cool Supply Outlet Node,  !- Loop Temperature Setpoint Node Name
    100,                     !- Maximum Loop Temperature {C}
    3,                       !- Minimum Loop Temperature {C}
    0.003,                   !- Maximum Loop Flow Rate {m3/s}
    0,                       !- Minimum Loop Flow Rate {m3/s}
    1.0,                     !- Plant Loop Volume {m3}
    SOURCE Cool Supply Inlet Node,  !- Plant Side Inlet Node Name
    SOURCE Cool Supply Outlet Node,  !- Plant Side Outlet Node Name
    SOURCE Cool Supply Branches,  !- Plant Side Branch List Name
    SOURCE Cool Supply Connectors,  !- Plant Side Connector List Name
    SOURCE Cool Demand Inlet Node,  !- Demand Side Inlet Node Name
    SOURCE Cool Demand Outlet Node,  !- Demand Side Outlet Node Name
    SOURCE Cool Demand Branches,  !- Demand Side Branch List Name
    SOURCE Cool Demand Connectors,  !- Demand Side Connector List Name
    OPTIMAL;                 !- Load Distribution Scheme

  SetpointManager:Scheduled,
    SOURCE Cool Loop Setpoint Manager,  !- Name
    Temperature,             !- Control Variable
    SOURCE Cool Loop Temp Sch,  !- Schedule Name
    SOURCE Cool Loop Setpoint Node List;  !- Setpoint Node or NodeList Name

  NodeList,
    SOURCE Cool Loop Setpoint Node List,  !- Name
    SOURCE Cool Supply Outlet Node;  !- Node 1 Name

  PlantEquipmentOperationSchemes,
    SOURCE Cool Loop Operation,  !- Name
    PlantEquipmentOperation:CoolingLoad,  !- Control Scheme 1 Object Type
    SOURCE Cool Purchased Only,  !- Control Scheme 1 Name
    AlwaysOnSchedule;        !- Control Scheme 1 Schedule Name

  PlantEquipmentOperation:CoolingLoad,
    SOURCE Cool Purchased Only,  !- Name
    0,                       !- Load Range 1 Lower Limit {W}
    10000000,                !- Load Range 1 Upper Limit {W}
    SOURCE cooling Plant;    !- Range 1 Equipment List Name

  PlantEquipmentList,
    SOURCE cooling Plant,    !- Name
    DistrictCooling,         !- Equipment 1 Object Type
    SOURCE Purchased Cooling;!- Equipment 1 Name

  BranchList,
    SOURCE Cool Supply Branches,  !- Name
    SOURCE Cool Supply Inlet Branch,  !- Branch 1 Name
    SOURCE Cooling Branch,   !- Branch 2 Name
    SOURCE Cool Supply Outlet Branch;  !- Branch 3 Name

  ConnectorList,
    SOURCE Cool Supply Connectors,  !- Name
    Connector:Splitter,      !- Connector 1 Object Type
    SOURCE Cool Supply Splitter,  !- Connector 1 Name
    Connector:Mixer,         !- Connector 2 Object Type
    SOURCE Cool Supply Mixer;!- Connector 2 Name

  Connector:Splitter,
    SOURCE Cool Supply Splitter,  !- Name
    SOURCE Cool Supply Inlet Branch,  !- Inlet Branch Name
    SOURCE Cooling Branch;   !- Outlet Branch 1 Name

  Connector:Mixer,
    SOURCE Cool Supply Mixer,!- Name
    SOURCE Cool Supply Outlet Branch,  !- Outlet Branch Name
    SOURCE Cooling Branch;   !- Inlet Branch 1 Name

  Branch,
    SOURCE Cool Supply Inlet Branch,  !- Name
    ,                        !- Pressure Drop Curve Name
    Pump:VariableSpeed,      !- Component 1 Object Type
    SOURCE Cool Pump,        !- Component 1 Name
    SOURCE Cool Supply Inlet Node,  !- Component 1 Inlet Node Name
    SOURCE Cool Supply Pump-Cooling Node;  !- Component 1 Outlet Node Name

  Pump:VariableSpeed,
    SOURCE Cool Pump,        !- Name
    SOURCE Cool Supply Inlet Node,  !- Inlet Node Name
    SOURCE Cool Supply Pump-Cooling Node,  !- Outlet Node Name
    0.005,                   !- Design Maximum Flow Rate {m3/s}
    1,                       !- Design Pump Head {Pa}
    0.01,                    !- Design Power Consumption {W}
    0.87,                    !- Motor Efficiency
    0.0,                     !- Fraction of Motor Inefficiencies to Fluid Stream
    0,                       !- Coefficient 1 of the Part Load Performance Curve
    1,                       !- Coefficient 2 of the Part Load Performance Curve
    0,                       !- Coefficient 3 of the Part Load Performance Curve
    0,                       !- Coefficient 4 of the Part Load Performance Curve
    0,                       !- Design Minimum Flow Rate {m3/s}
    INTERMITTENT;            !- Pump Control Type

  Branch,
    SOURCE Cooling Branch,   !- Name
    ,                        !- Pressure Drop Curve Name
    DistrictCooling,         !- Component 1 Object Type
    SOURCE Purchased Cooling,!- Component 1 Name
    SOURCE Supply Cooling Inlet Node,  !- Component 1 Inlet Node Name
    SOURCE Supply Cooling Outlet Node;  !- Component 1 Outlet Node Name

  DistrictCooling,
    SOURCE Purchased Cooling,!- Name
    SOURCE Supply Cooling Inlet Node,  !- Chilled Water Inlet Node Name
    SOURCE Supply Cooling Outlet Node,  !- Chilled Water Outlet Node Name
    1000000;                 !- Nominal Capacity {W}

  Branch,
    SOURCE Cool Supply Outlet Branch,  !- Name
    ,                        !- Pressure Drop Curve Name
    Pipe:Adiabatic,          !- Component 1 Object Type
    SOURCE Cool Supply Outlet Pipe,  !- Component 1 Name
    SOURCE Cool Supply Heating-Pipe Node,  !- Component 1 Inlet Node Name
    SOURCE Cool Supply Outlet Node;  !- Component 1 Outlet Node Name

  Pipe:Adiabatic,
    SOURCE Cool Supply Outlet Pipe,  !- Name
    SOURCE Cool Supply Heating-Pipe Node,  !- Inlet Node Name
    SOURCE Cool Supply Outlet Node;  !- Outlet Node Name

  BranchList,
    SOURCE Cool Demand Branches,  !- Name
    SOURCE Cool Demand Inlet Branch,  !- Branch 1 Name
    SOURCE Cool Demand HX Branch,  !- Branch 2 Name
    SOURCE Cool Demand Outlet Branch;  !- Branch 3 Name

  ConnectorList,
    SOURCE Cool Demand Connectors,  !- Name
    Connector:Splitter,      !- Connector 1 Object Type
    SOURCE Cool Demand Splitter,  !- Connector 1 Name
    Connector:Mixer,         !- Connector 2 Object Type
    SOURCE Cool Demand Mixer;!- Connector 2 Name

  Connector:Splitter,
    SOURCE Cool Demand Splitter,  !- Name
    SOURCE Cool Demand Inlet Branch,  !- Inlet Branch Name
    SOURCE Cool Demand HX Branch;  !- Outlet Branch 1 Name

  Connector:Mixer,
    SOURCE Cool Demand Mixer,!- Name
    SOURCE Cool Demand Outlet Branch,  !- Outlet Branch Name
    SOURCE Cool Demand HX Branch;  !- Inlet Branch 1 Name

  Branch,
    SOURCE Cool Demand Inlet Branch,  !- Name
    ,                        !- Pressure Drop Curve Name
    Pipe:Adiabatic,          !- Component 1 Object Type
    SOURCE Cool Demand Inlet Pipe,  !- Component 1 Name
    SOURCE Cool Demand Inlet Node,  !- Component 1 Inlet Node Name
    SOURCE Cool Demand Pipe-Load Profile Node;  !- Component 1 Outlet Node Name

  Pipe:Adiabatic,
    SOURCE Cool Demand Inlet Pipe,  !- Name
    SOURCE Cool Demand Inlet Node,  !- Inlet Node Name
    SOURCE Cool Demand Pipe-Load Profile Node;  !- Outlet Node Name

  Branch,
    SOURCE Cool Demand HX Branch,  !- Name
    ,                        !- Pressure Drop Curve Name
    HeatExchanger:FluidToFluid,  !- Component 1 Object Type
    SOURCE to TRANSFER Cooling HX,  !- Component 1 Name
    SOURCE Cool Demand HX Inlet Node,  !- Component 1 Inlet Node Name
    SOURCE Cool Demand HX Outlet Node;  !- Component 1 Outlet Node Name

  Branch,
    SOURCE Cool Demand Outlet Branch,  !- Name
    ,                        !- Pressure Drop Curve Name
    Pipe:Adiabatic,          !- Component 1 Object Type
    SOURCE Cool Demand Outlet Pipe,  !- Component 1 Name
    SOURCE Cool Demand Load Profile-Pipe Node,  !- Component 1 Inlet Node Name
    SOURCE Cool Demand Outlet Node;  !- Component 1 Outlet Node Name

  Pipe:Adiabatic,
    SOURCE Cool Demand Outlet Pipe,  !- Name
    SOURCE Cool Demand Load Profile-Pipe Node,  !- Inlet Node Name
    SOURCE Cool Demand Outlet Node;  !- Outlet Node Name

! End Cooling source loop
!____________________________________________________________________
! BEGIN Heating Source loop

  PlantLoop,
    SOURCE Heat Loop,        !- Name
    WATER,                   !- Fluid Type
    ,                        !- User Defined Fluid Type
    SOURCE Heat Loop Operation,  !- Plant Equipment Operation Scheme Name
    SOURCE Heat Supply Outlet Node,  !- Loop Temperature Setpoint Node Name
    100,                     !- Maximum Loop Temperature {C}
    3,                       !- Minimum Loop Temperature {C}
    0.003,                   !- Maximum Loop Flow Rate {m3/s}
    0,                       !- Minimum Loop Flow Rate {m3/s}
    1.0,                     !- Plant Loop Volume {m3}
    SOURCE Heat Supply Inlet Node,  !- Plant Side Inlet Node Name
    SOURCE Heat Supply Outlet Node,  !- Plant Side Outlet Node Name
    SOURCE Heat Supply Branches,  !- Plant Side Branch List Name
    SOURCE Heat Supply Connectors,  !- Plant Side Connector List Name
    SOURCE Heat Demand Inlet Node,  !- Demand Side Inlet Node Name
    SOURCE Heat Demand Outlet Node,  !- Demand Side Outlet Node Name
    SOURCE Heat Demand Branches,  !- Demand Side Branch List Name
    SOURCE Heat Demand Connectors,  !- Demand Side Connector List Name
    OPTIMAL;                 !- Load Distribution Scheme

  SetpointManager:Scheduled,
    SOURCE Heat Loop Setpoint Manager,  !- Name
    Temperature,             !- Control Variable
    SOURCE Heat Loop Temp Sch,  !- Schedule Name
    SOURCE Heat Loop Setpoint Node List;  !- Setpoint Node or NodeList Name

  NodeList,
    SOURCE Heat Loop Setpoint Node List,  !- Name
    SOURCE Heat Supply Outlet Node;  !- Node 1 Name

  PlantEquipmentOperationSchemes,
    SOURCE Heat Loop Operation,  !- Name
    PlantEquipmentOperation:HeatingLoad,  !- Control Scheme 1 Object Type
    SOURCE Heat Purchased Only,  !- Control Scheme 1 Name
    AlwaysOnSchedule;        !- Control Scheme 1 Schedule Name

  PlantEquipmentOperation:HeatingLoad,
    SOURCE Heat Purchased Only,  !- Name
    0,                       !- Load Range 1 Lower Limit {W}
    10000000,                !- Load Range 1 Upper Limit {W}
    SOURCE Heat Heating Plant;  !- Range 1 Equipment List Name

  PlantEquipmentList,
    SOURCE Heat Heating Plant,  !- Name
    DistrictHeating:Water,         !- Equipment 1 Object Type
    SOURCE Purchased Heating;!- Equipment 1 Name

  BranchList,
    SOURCE Heat Supply Branches,  !- Name
    SOURCE Heat Supply Inlet Branch,  !- Branch 1 Name
    SOURCE Heating Branch,   !- Branch 2 Name
    SOURCE Heat Supply Outlet Branch;  !- Branch 3 Name

  ConnectorList,
    SOURCE Heat Supply Connectors,  !- Name
    Connector:Splitter,      !- Connector 1 Object Type
    SOURCE Heat Supply Splitter,  !- Connector 1 Name
    Connector:Mixer,         !- Connector 2 Object Type
    SOURCE Heat Supply Mixer;!- Connector 2 Name

  Connector:Splitter,
    SOURCE Heat Supply Splitter,  !- Name
    SOURCE Heat Supply Inlet Branch,  !- Inlet Branch Name
    SOURCE Heating Branch;   !- Outlet Branch 1 Name

  Connector:Mixer,
    SOURCE Heat Supply Mixer,!- Name
    SOURCE Heat Supply Outlet Branch,  !- Outlet Branch Name
    SOURCE Heating Branch;   !- Inlet Branch 1 Name

  Branch,
    SOURCE Heat Supply Inlet Branch,  !- Name
    ,                        !- Pressure Drop Curve Name
    Pump:VariableSpeed,      !- Component 1 Object Type
    SOURCE Heat Pump,        !- Component 1 Name
    SOURCE Heat Supply Inlet Node,  !- Component 1 Inlet Node Name
    SOURCE Supply Pump-Heating Node;  !- Component 1 Outlet Node Name

  Pump:VariableSpeed,
    SOURCE Heat Pump,        !- Name
    SOURCE Heat Supply Inlet Node,  !- Inlet Node Name
    SOURCE Supply Pump-Heating Node,  !- Outlet Node Name
    0.005,                   !- Design Maximum Flow Rate {m3/s}
    1,                       !- Design Pump Head {Pa}
    0.01,                    !- Design Power Consumption {W}
    0.87,                    !- Motor Efficiency
    0.0,                     !- Fraction of Motor Inefficiencies to Fluid Stream
    0,                       !- Coefficient 1 of the Part Load Performance Curve
    1,                       !- Coefficient 2 of the Part Load Performance Curve
    0,                       !- Coefficient 3 of the Part Load Performance Curve
    0,                       !- Coefficient 4 of the Part Load Performance Curve
    0,                       !- Design Minimum Flow Rate {m3/s}
    INTERMITTENT;            !- Pump Control Type

  Branch,
    SOURCE Heating Branch,   !- Name
    ,                        !- Pressure Drop Curve Name
    DistrictHeating:Water,         !- Component 1 Object Type
    SOURCE Purchased Heating,!- Component 1 Name
    SOURCE Supply Heating Inlet Node,  !- Component 1 Inlet Node Name
    SOURCE Supply Heating Outlet Node;  !- Component 1 Outlet Node Name

  DistrictHeating:Water,
    SOURCE Purchased Heating,!- Name
    SOURCE Supply Heating Inlet Node,  !- Hot Water Inlet Node Name
    SOURCE Supply Heating Outlet Node,  !- Hot Water Outlet Node Name
    1000000;                 !- Nominal Capacity {W}

  Branch,
    SOURCE Heat Supply Outlet Branch,  !- Name
    ,                        !- Pressure Drop Curve Name
    Pipe:Adiabatic,          !- Component 1 Object Type
    SOURCE Heat Supply Outlet Pipe,  !- Component 1 Name
    SOURCE Heat Supply Heating-Pipe Node,  !- Component 1 Inlet Node Name
    SOURCE Heat Supply Outlet Node;  !- Component 1 Outlet Node Name

  Pipe:Adiabatic,
    SOURCE Heat Supply Outlet Pipe,  !- Name
    SOURCE Heat Supply Heating-Pipe Node,  !- Inlet Node Name
    SOURCE Heat Supply Outlet Node;  !- Outlet Node Name

  BranchList,
    SOURCE Heat Demand Branches,  !- Name
    SOURCE Heat Demand Inlet Branch,  !- Branch 1 Name
    SOURCE Heat Demand HX Branch,  !- Branch 2 Name
    SOURCE Heat Demand Outlet Branch;  !- Branch 3 Name

  ConnectorList,
    SOURCE Heat Demand Connectors,  !- Name
    Connector:Splitter,      !- Connector 1 Object Type
    SOURCE Heat Demand Splitter,  !- Connector 1 Name
    Connector:Mixer,         !- Connector 2 Object Type
    SOURCE Heat Demand Mixer;!- Connector 2 Name

  Connector:Splitter,
    SOURCE Heat Demand Splitter,  !- Name
    SOURCE Heat Demand Inlet Branch,  !- Inlet Branch Name
    SOURCE Heat Demand HX Branch;  !- Outlet Branch 1 Name

  Connector:Mixer,
    SOURCE Heat Demand Mixer,!- Name
    SOURCE Heat Demand Outlet Branch,  !- Outlet Branch Name
    SOURCE Heat Demand HX Branch;  !- Inlet Branch 1 Name

  Branch,
    SOURCE Heat Demand Inlet Branch,  !- Name
    ,                        !- Pressure Drop Curve Name
    Pipe:Adiabatic,          !- Component 1 Object Type
    SOURCE Heat Demand Inlet Pipe,  !- Component 1 Name
    SOURCE Heat Demand Inlet Node,  !- Component 1 Inlet Node Name
    SOURCE Heat Demand Pipe-HX Node;  !- Component 1 Outlet Node Name

  Pipe:Adiabatic,
    SOURCE Heat Demand Inlet Pipe,  !- Name
    SOURCE Heat Demand Inlet Node,  !- Inlet Node Name
    SOURCE Heat Demand Pipe-HX Node;  !- Outlet Node Name

  Branch,
    SOURCE Heat Demand HX Branch,  !- Name
    ,                        !- Pressure Drop Curve Name
    HeatExchanger:FluidToFluid,  !- Component 1 Object Type
    SOURCE to TRANSFER Heat HX,  !- Component 1 Name
    SOURCE Heat Demand HX Inlet Node,  !- Component 1 Inlet Node Name
    SOURCE Heat Demand HX Outlet Node;  !- Component 1 Outlet Node Name

  Branch,
    SOURCE Heat Demand Outlet Branch,  !- Name
    ,                        !- Pressure Drop Curve Name
    Pipe:Adiabatic,          !- Component 1 Object Type
    SOURCE Heat Demand Outlet Pipe,  !- Component 1 Name
    SOURCE Heat Demand HX-Pipe Node,  !- Component 1 Inlet Node Name
    SOURCE Heat Demand Outlet Node;  !- Component 1 Outlet Node Name

  Pipe:Adiabatic,
    SOURCE Heat Demand Outlet Pipe,  !- Name
    SOURCE Heat Demand HX-Pipe Node,  !- Inlet Node Name
    SOURCE Heat Demand Outlet Node;  !- Outlet Node Name

!____________________________________________________________________

  ScheduleTypeLimits,
    Any Number;              !- Name

  ScheduleTypeLimits,
    On/Off,                  !- Name
    0,                       !- Lower Limit Value
    1,                       !- Upper Limit Value
    DISCRETE;                !- Numeric Type

  Schedule:Compact,
    Use Cool Loop Temp Sch,  !- Name
    Any Number,              !- Schedule Type Limits Name
    THROUGH: 12/31,          !- Field 1
    FOR: AllDays,            !- Field 2
    UNTIL: 24:00,25.0;       !- Field 3

  Schedule:Compact,
    Use Heat Loop Temp Sch,  !- Name
    Any Number,              !- Schedule Type Limits Name
    THROUGH: 12/31,          !- Field 1
    FOR: AllDays,            !- Field 2
    UNTIL: 24:00,15.0;       !- Field 3

  Schedule:Compact,
    TRANSFER Dual Loop Hi Temp Sch,  !- Name
    Any Number,              !- Schedule Type Limits Name
    THROUGH: 12/31,          !- Field 1
    FOR: AllDays,            !- Field 2
    UNTIL: 24:00,22.5;       !- Field 3

  Schedule:Compact,
    TRANSFER Dual Loop Lo Temp Sch,  !- Name
    Any Number,              !- Schedule Type Limits Name
    THROUGH: 12/31,          !- Field 1
    FOR: AllDays,            !- Field 2
    UNTIL: 24:00,17.5;       !- Field 3

  Schedule:Compact,
    SOURCE HEAT Loop Temp Sch,  !- Name
    Any Number,              !- Schedule Type Limits Name
    THROUGH: 12/31,          !- Field 1
    FOR: AllDays,            !- Field 2
    UNTIL: 24:00,20.0;       !- Field 3

  Schedule:Compact,
    SOURCE COOl Loop Temp Sch,  !- Name
    Any Number,              !- Schedule Type Limits Name
    THROUGH: 12/31,          !- Field 1
    FOR: AllDays,            !- Field 2
    UNTIL: 24:00,20.0;       !- Field 3

  Schedule:Compact,
    AlwaysOnSchedule,        !- Name
    On/Off,                  !- Schedule Type Limits Name
    THROUGH: 12/31,          !- Field 1
    FOR: AllDays,            !- Field 2
    UNTIL: 24:00,1;          !- Field 3

  Schedule:Compact,
    Heat Load Profile 1 Load Schedule,  !- Name
    Any Number,              !- Schedule Type Limits Name
    THROUGH: 12/31,          !- Field 1
    FOR: AllDays,            !- Field 2
    UNTIL: 12:00,0,          !- Field 3
    UNTIL: 14:00,8000,       !- Field 5
    UNTIL: 16:00,6000,       !- Field 7
    UNTIL: 17:00,0,          !- Field 9
    UNTIL: 20:00,6000,       !- Field 11
    UNTIL: 24:00,10000;      !- Field 13

  Schedule:Compact,
    Heat Load Profile 1 Flow Frac Schedule,  !- Name
    Any Number,              !- Schedule Type Limits Name
    THROUGH: 12/31,          !- Field 1
    FOR: AllDays,            !- Field 2
    UNTIL: 24:00,1.0;        !- Field 3

  Schedule:Compact,
    Cool Load Profile 1 Load Schedule,  !- Name
    Any Number,              !- Schedule Type Limits Name
    THROUGH: 12/31,          !- Field 1
    FOR: AllDays,            !- Field 2
    UNTIL: 2:00,-8000,       !- Field 3
    UNTIL: 4:00,-6000,       !- Field 5
    UNTIL: 5:00,0,           !- Field 7
    UNTIL: 8:00,-6000,       !- Field 9
    UNTIL: 12:00,-10000,     !- Field 11
    UNTIL: 24:00,0;          !- Field 13

  Schedule:Compact,
    cool Load Profile 1 Flow Frac Schedule,  !- Name
    Any Number,              !- Schedule Type Limits Name
    THROUGH: 12/31,          !- Field 1
    FOR: AllDays,            !- Field 2
    UNTIL: 24:00,1.0;        !- Field 3

  Output:VariableDictionary,IDF;

  Output:Variable,SOURCE Cool Supply Outlet Node,System Node Setpoint Temperature,Hourly;

  Output:Variable,TRANSFER Supply Outlet Node,System Node Setpoint High Temperature,Hourly;

  Output:Variable,TRANSFER Supply Outlet Node,System Node Setpoint Low Temperature,Hourly;

  Output:Variable,SOURCE Heat Supply Outlet Node,System Node Setpoint Temperature,Hourly;

  Output:Variable,Use Heat Supply Outlet Node,System Node Setpoint Temperature,Hourly;

  Output:Variable,Use Cool Supply Outlet Node,System Node Setpoint Temperature,Hourly;

  Output:Variable,*,Plant Load Profile Mass Flow Rate,Hourly;

  Output:Variable,*,Plant Load Profile Heat Transfer Rate,Hourly;

  Output:Variable,*,Plant Load Profile Heat Transfer Energy,Hourly;

  Output:Meter,Heating:DistrictHeatingWater,Daily;

  Output:Meter:MeterFileOnly,Heating:DistrictHeatingWater,monthly;

  Output:Meter:MeterFileOnly,Heating:DistrictHeatingWater,runperiod;

  Output:Meter:MeterFileOnly,Electricity:Facility,monthly;

  Output:Meter:MeterFileOnly,Electricity:Plant,monthly;

  Output:Meter:MeterFileOnly,Electricity:Facility,runperiod;

  Output:Meter:MeterFileOnly,Electricity:Plant,runperiod;

  OutputControl:Table:Style,
    HTML;                    !- Column Separator

  Output:Table:SummaryReports,
    AllSummary;              !- Report 1 Name

  Output:SQLite,
    simple;                  !- Option Type

  Output:Variable,*,Fluid Heat Exchanger Heat Transfer Rate,Hourly;

  Output:Variable,*,Fluid Heat Exchanger Heat Transfer Energy,Hourly;

  Output:Variable,*,Fluid Heat Exchanger Loop Supply Side Mass Flow Rate,Hourly;

  Output:Variable,*,Fluid Heat Exchanger Loop Supply Side Inlet Temperature,Hourly;

  Output:Variable,*,Fluid Heat Exchanger Loop Supply Side Outlet Temperature,Hourly;

  Output:Variable,*,Fluid Heat Exchanger Loop Demand Side Mass Flow Rate,Hourly;

  Output:Variable,*,Fluid Heat Exchanger Loop Demand Side Inlet Temperature,Hourly;

  Output:Variable,*,Fluid Heat Exchanger Loop Demand Side Outlet Temperature,Hourly;

  Output:Variable,*,Fluid Heat Exchanger Operation Status,Hourly;

  Output:Variable,*,Fluid Heat Exchanger Effectiveness,Hourly;

  Output:Variable,*,Plant Supply Side Cooling Demand Rate,Hourly;

  Output:Variable,*,Plant Supply Side Heating Demand Rate,Hourly;

  Output:Variable,*,Plant Supply Side Inlet Mass Flow Rate,Hourly;

  Output:Variable,*,Plant Supply Side Inlet Temperature,Hourly;

  Output:Variable,*,Plant Supply Side Outlet Temperature,Hourly;

  Output:Variable,*,Pump Fluid Heat Gain Rate,Hourly;

  Output:Variable,*,District Heating Water Rate,Hourly;

  Output:Variable,*,District Cooling Water Rate,Hourly;

